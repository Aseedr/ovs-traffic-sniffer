-- Generated by Oracle SQL Developer Data Modeler 4.0.0.833
--   at:        2017-10-31 16:20:19 BRT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE TABLE AIRPORT
  ( AIRPORT_ID CHAR (10) NOT NULL , name CHAR (100)
  ) ;
ALTER TABLE AIRPORT ADD CONSTRAINT AIRPORT_PK PRIMARY KEY ( AIRPORT_ID ) ;

CREATE TABLE COLLABORATOR
  (
    COLLABORATOR_ID            NUMBER NOT NULL ,
    full_name                  CHAR (100) ,
    passport_number            CHAR (50) ,
    POSITION_ID                NUMBER NOT NULL ,
    POSITION_POSITION_ID       NUMBER NOT NULL ,
    GATE_NUMBER_GATE_NUMBER_ID NUMBER NOT NULL
  ) ;
ALTER TABLE COLLABORATOR ADD CONSTRAINT COLLABORATOR_PK PRIMARY KEY ( COLLABORATOR_ID ) ;

CREATE TABLE FLIGHT
  (
    FLIGHT_ID            NUMBER NOT NULL ,
    "number"             NUMBER ,
    description          CHAR (100) ,
    FLIGHT_SCHEDULE_TIME DATE NOT NULL
  ) ;
ALTER TABLE FLIGHT ADD CONSTRAINT FLIGHT_PK PRIMARY KEY ( FLIGHT_ID ) ;

CREATE TABLE FLIGHT_SCHEDULE
  (
    TIME                       DATE NOT NULL ,
    week                       NUMBER ,
    DAY                        NUMBER ,
    delay                      NUMBER ,
    AIRPORT_AIRPORT_ID         CHAR (10) NOT NULL ,
    GATE_NUMBER_GATE_NUMBER_ID NUMBER NOT NULL
  ) ;
CREATE UNIQUE INDEX FLIGHT_SCHEDULE__IDX ON FLIGHT_SCHEDULE
  (
    AIRPORT_AIRPORT_ID ASC
  )
  ;
CREATE UNIQUE INDEX FLIGHT_SCHEDULE__IDXv1 ON FLIGHT_SCHEDULE
  (
    GATE_NUMBER_GATE_NUMBER_ID ASC
  )
  ;
  ALTER TABLE FLIGHT_SCHEDULE ADD CONSTRAINT FLIGHT_SCHEDULE_PK PRIMARY KEY ( TIME ) ;

CREATE TABLE GATE_NUMBER
  (
    GATE_NUMBER_ID NUMBER NOT NULL ,
    "number"       NUMBER
  ) ;
ALTER TABLE GATE_NUMBER ADD CONSTRAINT GATE_NUMBER_PK PRIMARY KEY ( GATE_NUMBER_ID ) ;

CREATE TABLE PASSENGER
  (
    PASSENGER_UD               NUMBER NOT NULL ,
    full_name                  CHAR (100) ,
    passport_number            CHAR (15) ,
    seat_number                CHAR (10) ,
    GATE_NUMBER_GATE_NUMBER_ID NUMBER NOT NULL
  ) ;
ALTER TABLE PASSENGER ADD CONSTRAINT PASSENGER_PK PRIMARY KEY ( PASSENGER_UD ) ;

CREATE TABLE POSITION
  (
    POSITION_ID     NUMBER NOT NULL ,
    name            CHAR (100) ,
    COLLABORATOR_ID NUMBER NOT NULL
  ) ;
ALTER TABLE POSITION ADD CONSTRAINT POSITION_PK PRIMARY KEY ( POSITION_ID ) ;

CREATE TABLE Relation_13
  (
    COLLABORATOR_COLLABORATOR_ID NUMBER NOT NULL ,
    FLIGHT_FLIGHT_ID             NUMBER NOT NULL ,
    COLLABORATOR_ID              NUMBER ,
    FLIGHT_NUMBER                CHAR (10)
  ) ;
ALTER TABLE Relation_13 ADD CONSTRAINT Relation_13__IDX PRIMARY KEY ( COLLABORATOR_COLLABORATOR_ID, FLIGHT_FLIGHT_ID ) ;

ALTER TABLE COLLABORATOR ADD CONSTRAINT COLLABORATOR_GATE_NUMBER_FK FOREIGN KEY ( GATE_NUMBER_GATE_NUMBER_ID ) REFERENCES GATE_NUMBER ( GATE_NUMBER_ID ) ;

ALTER TABLE COLLABORATOR ADD CONSTRAINT COLLABORATOR_POSITION_FK FOREIGN KEY ( POSITION_POSITION_ID ) REFERENCES POSITION ( POSITION_ID ) ;

ALTER TABLE Relation_13 ADD CONSTRAINT FK_ASS_3 FOREIGN KEY ( COLLABORATOR_COLLABORATOR_ID ) REFERENCES COLLABORATOR ( COLLABORATOR_ID ) ;

ALTER TABLE Relation_13 ADD CONSTRAINT FK_ASS_4 FOREIGN KEY ( FLIGHT_FLIGHT_ID ) REFERENCES FLIGHT ( FLIGHT_ID ) ;

ALTER TABLE FLIGHT ADD CONSTRAINT FLIGHT_FLIGHT_SCHEDULE_FK FOREIGN KEY ( FLIGHT_SCHEDULE_TIME ) REFERENCES FLIGHT_SCHEDULE ( TIME ) ;

ALTER TABLE FLIGHT_SCHEDULE ADD CONSTRAINT FLIGHT_SCHEDULE_AIRPORT_FK FOREIGN KEY ( AIRPORT_AIRPORT_ID ) REFERENCES AIRPORT ( AIRPORT_ID ) ;

ALTER TABLE FLIGHT_SCHEDULE ADD CONSTRAINT FLIGHT_SCHEDULE_GATE_NUMBER_FK FOREIGN KEY ( GATE_NUMBER_GATE_NUMBER_ID ) REFERENCES GATE_NUMBER ( GATE_NUMBER_ID ) ;

ALTER TABLE PASSENGER ADD CONSTRAINT PASSENGER_GATE_NUMBER_FK FOREIGN KEY ( GATE_NUMBER_GATE_NUMBER_ID ) REFERENCES GATE_NUMBER ( GATE_NUMBER_ID ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             8
-- CREATE INDEX                             2
-- ALTER TABLE                             16
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
